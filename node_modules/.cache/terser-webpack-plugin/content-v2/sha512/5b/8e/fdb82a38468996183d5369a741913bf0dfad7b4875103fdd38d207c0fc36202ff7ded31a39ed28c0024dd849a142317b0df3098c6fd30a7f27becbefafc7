{"code":"!function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:i})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var n in e)t.d(i,n,function(t){return e[t]}.bind(null,n));return i},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=0)}([function(e,t,r){r(1)},function(e,t,r){var i=r(2).EventSource;e.exports=i,window&&!window.EventSource&&(window.EventSource=i,console&&console.log(\"polyfill-eventsource added missing EventSource to window\"))},function(){!function(e){function t(e,t,r,i){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.data=t||null,this.origin=r||\"\",this.lastEventId=i||\"\",this.type=e||\"message\"}if(!e.EventSource||e._eventSourceImportPrefix){var r=(e._eventSourceImportPrefix||\"\")+\"EventSource\",i=function(e,t){if(!e||\"string\"!=typeof e)throw new SyntaxError(\"Not enough arguments\");this.URL=e,this.setOptions(t);var r=this;setTimeout(function(){r.poll()},0)};if(i.prototype={CONNECTING:0,OPEN:1,CLOSED:2,defaultOptions:{loggingEnabled:!1,loggingPrefix:\"eventsource\",interval:500,bufferSizeLimit:262144,silentTimeout:3e5,getArgs:{evs_buffer_size_limit:262144},xhrHeaders:{Accept:\"text/event-stream\",\"Cache-Control\":\"no-cache\",\"X-Requested-With\":\"XMLHttpRequest\"}},setOptions:function(e){var t,r=this.defaultOptions;for(t in r)r.hasOwnProperty(t)&&(this[t]=r[t]);for(t in e)t in r&&e.hasOwnProperty(t)&&(this[t]=e[t]);this.getArgs&&this.bufferSizeLimit&&(this.getArgs.evs_buffer_size_limit=this.bufferSizeLimit),(\"undefined\"==typeof console||void 0===console.log)&&(this.loggingEnabled=!1)},log:function(e){this.loggingEnabled&&console.log(\"[\"+this.loggingPrefix+\"]:\"+e)},poll:function(){try{if(this.readyState==this.CLOSED)return;this.cleanup(),this.readyState=this.CONNECTING,this.cursor=0,this.cache=\"\",this._xhr=new this.XHR(this),this.resetNoActivityTimer()}catch(e){this.log(\"There were errors inside the pool try-catch\"),this.dispatchEvent(\"error\",{type:\"error\",data:e.message})}},pollAgain:function(e){var t=this;t.readyState=t.CONNECTING,t.dispatchEvent(\"error\",{type:\"error\",data:\"Reconnecting \"}),this._pollTimer=setTimeout(function(){t.poll()},e||0)},cleanup:function(){this.log(\"evs cleaning up\"),this._pollTimer&&(clearInterval(this._pollTimer),this._pollTimer=null),this._noActivityTimer&&(clearInterval(this._noActivityTimer),this._noActivityTimer=null),this._xhr&&(this._xhr.abort(),this._xhr=null)},resetNoActivityTimer:function(){if(this.silentTimeout){this._noActivityTimer&&clearInterval(this._noActivityTimer);var e=this;this._noActivityTimer=setTimeout(function(){e.log(\"Timeout! silentTImeout:\"+e.silentTimeout),e.pollAgain()},this.silentTimeout)}},close:function(){this.readyState=this.CLOSED,this.log(\"Closing connection. readyState: \"+this.readyState),this.cleanup()},ondata:function(){var e=this._xhr;if(e.isReady()&&!e.hasError()){this.resetNoActivityTimer(),this.readyState==this.CONNECTING&&(this.readyState=this.OPEN,this.dispatchEvent(\"open\",{type:\"open\"}));var t=e.getBuffer();t.length>this.bufferSizeLimit&&(this.log(\"buffer.length > this.bufferSizeLimit\"),this.pollAgain()),0==this.cursor&&0<t.length&&\"\\ufeff\"==t.substring(0,1)&&(this.cursor=1);var r=this.lastMessageIndex(t);if(r[0]>=this.cursor){var i=r[1],n=t.substring(this.cursor,i);this.parseStream(n),this.cursor=i}e.isDone()&&(this.log(\"request.isDone(). reopening the connection\"),this.pollAgain(this.interval))}else this.readyState!==this.CLOSED&&(this.log(\"this.readyState !== this.CLOSED\"),this.pollAgain(this.interval))},parseStream:function(e){var r,i,n,s,o,a,u=(e=this.cache+this.normalizeToLF(e)).split(\"\\n\\n\");for(r=0;r<u.length-1;r++){for(n=\"message\",s=[],parts=u[r].split(\"\\n\"),i=0;i<parts.length;i++)0==(o=this.trimWhiteSpace(parts[i])).indexOf(\"event\")?n=o.replace(/event:?\\s*/,\"\"):0==o.indexOf(\"retry\")?(a=parseInt(o.replace(/retry:?\\s*/,\"\")),!isNaN(a)&&(this.interval=a)):0==o.indexOf(\"data\")?s.push(o.replace(/data:?\\s*/,\"\")):0==o.indexOf(\"id:\")?this.lastEventId=o.replace(/id:?\\s*/,\"\"):0==o.indexOf(\"id\")&&(this.lastEventId=null);if(s.length){var l=new t(n,s.join(\"\\n\"),window.location.origin,this.lastEventId);this.dispatchEvent(n,l)}}this.cache=u[u.length-1]},dispatchEvent:function(e,t){var r=this[\"_\"+e+\"Handlers\"];if(r)for(var i=0;i<r.length;i++)r[i].call(this,t);this[\"on\"+e]&&this[\"on\"+e].call(this,t)},addEventListener:function(e,t){this[\"_\"+e+\"Handlers\"]||(this[\"_\"+e+\"Handlers\"]=[]),this[\"_\"+e+\"Handlers\"].push(t)},removeEventListener:function(e,t){var r=this[\"_\"+e+\"Handlers\"];if(r)for(var i=r.length-1;0<=i;--i)if(r[i]===t){r.splice(i,1);break}},_pollTimer:null,_noactivityTimer:null,_xhr:null,lastEventId:null,cache:\"\",cursor:0,onerror:null,onmessage:null,onopen:null,readyState:0,urlWithParams:function(e,t){var r=[];if(t){var i,n,s=encodeURIComponent;for(i in t)t.hasOwnProperty(i)&&(n=s(i)+\"=\"+s(t[i]),r.push(n))}return 0<r.length?-1==e.indexOf(\"?\")?e+\"?\"+r.join(\"&\"):e+\"&\"+r.join(\"&\"):e},lastMessageIndex:function(e){var t=Math.max,r=e.lastIndexOf(\"\\n\\n\"),i=e.lastIndexOf(\"\\r\\r\"),n=e.lastIndexOf(\"\\r\\n\\r\\n\");return n>t(r,i)?[n,n+4]:[t(r,i),t(r,i)+2]},trimWhiteSpace:function(e){return e.replace(/^(\\s|\\u00A0)+|(\\s|\\u00A0)+$/g,\"\")},normalizeToLF:function(e){return e.replace(/\\r\\n|\\r/g,\"\\n\")}},window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType){i.isPolyfill=\"IE_8-9\";var n=i.prototype.defaultOptions;n.xhrHeaders=null,n.getArgs.evs_preamble=2056,i.prototype.XHR=function(e){request=new XDomainRequest,this._request=request,request.onprogress=function(){request._ready=!0,e.ondata()},request.onload=function(){this._loaded=!0,e.ondata()},request.onerror=function(){this._failed=!0,e.readyState=e.CLOSED,e.dispatchEvent(\"error\",{type:\"error\",data:\"XDomainRequest error\"})},request.ontimeout=function(){this._failed=!0,e.readyState=e.CLOSED,e.dispatchEvent(\"error\",{type:\"error\",data:\"XDomainRequest timed out\"})};var t={};if(e.getArgs){var r=e.getArgs;for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);e.lastEventId&&(t.evs_last_event_id=e.lastEventId)}request.open(\"GET\",e.urlWithParams(e.URL,t)),request.send()},i.prototype.XHR.prototype={useXDomainRequest:!0,_request:null,_ready:!1,_loaded:!1,_failed:!1,isReady:function(){return this._request._ready},isDone:function(){return this._request._loaded},hasError:function(){return this._request._failed},getBuffer:function(){var e=\"\";try{e=this._request.responseText||\"\"}catch(e){}return e},abort:function(){this._request&&this._request.abort()}}}else i.isPolyfill=\"XHR\",i.prototype.XHR=function(e){request=new XMLHttpRequest,this._request=request,e._xhr=this,request.onreadystatechange=function(){1<request.readyState&&e.readyState!=e.CLOSED&&(200==request.status||300<=request.status&&400>request.status?e.ondata():(request._failed=!0,e.readyState=e.CLOSED,e.dispatchEvent(\"error\",{type:\"error\",data:\"The server responded with \"+request.status}),e.close()))},request.onprogress=function(){},request.open(\"GET\",e.urlWithParams(e.URL,e.getArgs),!0);var t=e.xhrHeaders;for(var r in t)t.hasOwnProperty(r)&&request.setRequestHeader(r,t[r]);e.lastEventId&&request.setRequestHeader(\"Last-Event-Id\",e.lastEventId),request.send()},i.prototype.XHR.prototype={useXDomainRequest:!1,_request:null,_failed:!1,isReady:function(){return 2<=this._request.readyState},isDone:function(){return 4==this._request.readyState},hasError:function(){return this._failed||400<=this._request.status},getBuffer:function(){var e=\"\";try{e=this._request.responseText||\"\"}catch(e){}return e},abort:function(){this._request&&this._request.abort()}};e[r]=i}}(this)}]);","extractedComments":[]}